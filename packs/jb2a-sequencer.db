{"name":"Weapon Throw","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/Dagger01_01_Regular_White_Thumb.webp","scope":"global","command":"//THIS MACRO IS INTENDED FOR WEAPON THROW ONLY (Use the macro WeaponThrowWithReturn if you to have a return animation for the dagger01 or hammer01)\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//All you have to do, is to change the VERSION you want to use.\n//Versions available for the Thrown animation are :\n\n//Melee single handed weapon :\n//dagger - 01 | 02\n//hammer - 01\n//handaxe - 01 | 02\n//kunai - 01\n//lasersword - blue | green | orange | purple | red | yellow\n//mace - 01\n//sword - white | blue\n\n//Melee two handed weapon :\n//greataxe - 01\n//greatsword - 01\n//lasersword_db - blue | green | orange | purple | red | yellow\n\n//Ranged weapon :\n//javelin - 01\n\n//To preview these assets you can use our AssetViewer : https://www.jb2a.com/Library_Preview/\n\nlet target = Array.from(game.user.targets)[0];\n\nlet sequence = new Sequence()\n\n    .effect()\n//It will play the throw sequence of the Dagger01 animation. \n//For example, to follow the list above, change it to jb2a.lasersword_db.throw.orange to play the double bladed thrown orange lasersword animation.\n//Another example, jb2a.handaxe.throw.02 to play the second version of the handaxe animation.\n        .file(\"jb2a.dagger.throw.01\") //Replace the text between quotation marks.\n        .atLocation(canvas.tokens.controlled[0])\n        .reachTowards(target)\n        .JB2A()\n\n    .play()","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"core":{"sourceId":"Macro.MNrsQfdjEKY7SiQN"}},"_id":"Bpk2aoCXTVZjm3zf"}
{"name":"Arrows - Bolts with Sneak Attack","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/1st_Level/Sneak_Attack/Sneak_Attack_Regular_Orange_Thumb.webp","scope":"global","command":"//THIS MACRO IS INTENDED FOR ARROWS AND BOLTS ONLY.\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//FOR ARROWS AND BOLTS ANIMATIONS\n\n//This is a list of all arrows and bolts available for this macros.\n//First choose between the type of projectile : arrow | bolt\n//Then choose the damage type between these : cold | fire | lightning | physical | poison\n//Finally the color of the effect : Blue | Green | Orange\n\n//Exceptions :\n//WHITE COLOR is only available for PHYSICAL damage type for both ARROW and BOLT. And there are two models for arrows only.\n//jb2a.arrow.physical.white.01 | jb2a.arrow.physical.white.02 | jb2a.bolt.physical.white\n\n//POISON damage, GREEN COLOR have 2 different models of ARROWS.\n//jb2a.arrow.poison.green.01 | jb2a.arrow.poison.green.02\n\n//FOR THE SNEAK ATTACK ANIMATION\n\n//This is a list of all colors for SNEAK ATTACKS animations.\n//Colors available : dark_green | dark_purple | dark_red | blue | orange | pink | yellow\n\nlet target = Array.from(game.user.targets)[0];\n\nlet sequence = new Sequence()\n\n    .effect()\n//This part will play the Sneak Attack animation.\n//For example, following available colors listed above, if you want the dark red sneak attack animation change it to jb2a.sneak_attack.dark_red\n\n        .file(\"jb2a.sneak_attack.orange\") //Replace the text between quotation marks.\n\n//You can change 'target' by 'canvas.tokens.controlled[0]' if you want the animation to be on the caster instead of the target.\n        .atLocation(target)\n        .anchor({ x: 0.5, y: 1 })\n        .scale(.5)\n\n//OPTIONAL you can delete the following sequence if you don't want the text animation\n\n    .effect()\n//This part will play the animated text Sneak Attack.\n//Choose between jb2a.sneak_attack_text.01 and jb2a.sneak_attack_text.02\n\n        .file(\"jb2a.sneak_attack_text.01\") //Replace the text between quotation marks.\n\n//You can change 'target' by 'canvas.tokens.controlled[0]' if you want the animation to be on the caster instead of the target.\n        .atLocation(target)\n        .anchor({ x: 0.5, y: 0.25 })\n        .scale(.5)\n\n    .effect()\n//It will play the animation of the arrow or bolt and choose the right file corresponding to the distance between the caster and the target. \n//For example, to follow the list above, change it to jb2a.arrow.lightning.green to play a green arrow attack with lightning damage type.\n//Another example, jb2a.bolt.cold.blue to play a blue bolt with cold damage type.\n\n        .file(\"jb2a.arrow.physical.white.02\") //Replace the text between quotation marks.\n        .atLocation(canvas.tokens.controlled[0])\n        .reachTowards(target)\n        .JB2A()\n\n//This is a delay before the melee attack begins.\n//The value is in milliseconds, modify it as you wish. \n//You can delete the line if you don't want the delay.\n        .delay(2000)\n\n    .play();","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"core":{"sourceId":"Macro.VMqfpWOrXtbAu43w"}},"_id":"KKT1iIDgvfOLae7t"}
{"name":"Chain Lightning","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/6th_Level/Chain_Lightning/ChainLightning_01_Regular_Blue_Primary_Thumb.webp","scope":"global","command":"// Requires the JB2A Patreon module installed and activated\n// Requires Sequencer\n// Requires Advanced Macros\n// Requires MidiQOL with Workflow -> Add macro to call on use.\n// Then add this macro's name to the bottom of the Chain Lightning spell in the \"On Use Macro\" field\n\nlet error = false;\nif(typeof args !== 'undefined' && args.length === 0){\n    error = `You can't run this macro from the hotbar! This is a callback macro. To use this, enable MidiQOL settings in \"Workflow\" -> \"Add macro to call on use\", then add this macro's name to the bottom of the Misty Step spell in the \"On Use Macro\" field.`;\n}\n\nif(!game.modules.get(\"jb2a_patreon\")){\n    error = `You need to have the module \"JB2A Patreon Pack\" installed to run this macro!`;\n}\n\nif(!game.modules.get(\"advanced-macros\")?.active){\n    let installed = game.modules.get(\"advanced-macros\") && !game.modules.get(\"advanced-macros\").active ? \"enabled\" : \"installed\";\n    error = `You need to have Advanced Macros ${installed} to run this macro!`;\n}\n\nif(!game.modules.get(\"midi-qol\")?.active){\n    let installed = game.modules.get(\"midi-qol\") && !game.modules.get(\"midi-qol\").active ? \"enabled\" : \"installed\";\n    error = `You need to have MidiQOL ${installed} to run this macro!`;\n}\n\nif(error){\n    ui.notifications.error(error);\n    return;\n}\n\nconst actorD = game.actors.get(args[0].actor._id);\nconst tokenD = canvas.tokens.get(args[0].tokenId);\nconst itemD = actorD.items.getName(args[0].item.name);\nconst spellLevel = args[0].spellLevel ? Number(args[0].spellLevel) : 6;\nconst targetsToJumpTo = 3 + (spellLevel-6);\nconst spellSaveDC = args[0].actor.data.attributes.spelldc;\n\nlet configSettings = game.settings.get(\"midi-qol\", \"ConfigSettings\");\n\nasync function wait(ms) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, ms);\n    });\n}\n\nfunction addTokenToText(token, roll, dc){\n\n    return `<div class=\"midi-qol-flex-container\">\n      <div class=\"midi-qol-target-npc-GM midi-qol-target-name\" id=\"${token.id}\"> ${token.name}</div>\n      <div class=\"midi-qol-target-npc-Player midi-qol-target-name\" id=\"${token.id}\" style=\"display: none;\"> ${token.name}</div>\n      <div>\n         ${roll >= dc ? \"succeeds\" : \"fails\"} with \n        ${roll}\n        \n      </div>\n      <div><img src=\"${token.data.img}\" height=\"30\" style=\"border:0px\"></div>\n    </div>`;\n\n}\n\nasync function main(){\n\n    let chatMessageContent;\n    if(configSettings.mergeCard) {\n        const chatMessage = await game.messages.get(args[0].itemCardId);\n        chatMessageContent = await duplicate(chatMessage?.data?.content ?? \"\");\n    }\n\n    const targetToken = canvas.tokens.get(args[0].hitTargets[0]._id);\n\n    let enemies = canvas.tokens.placeables.filter(function(target){\n        return target?.actor?.data?.data?.attributes?.hp?.value > 0\n            && canvas.grid.measureDistance(targetToken, target) <= 32.5\n            && target !== targetToken\n            && target !== tokenD\n    });\n\n    let targetList = \"\";\n\n    for (let target of enemies) {\n        targetList += `<tr class='chainLightningToken' id='${target.id}'>\n            <td><img src=\"${target?.data?.img}\" width=\"30\" height=\"30\" style=\"border:0px\"> - ${target.name}</td>\n            <td><input type=\"checkbox\" class='target' name=\"${target.id}\"></td>\n        </tr>`;\n    }\n\n    let the_content = `\n        <p>Your Chain Lightning can jump to <b>${targetsToJumpTo}</b> targets.</p>\n        <form class=\"flexcol\">\n            <table width=\"100%\">\n                <tbody>\n                    <tr><th>Target</th>\n                    <th>Jump to</th>\n                    </tr>${targetList}\n                </tbody>\n            </table>\n        </form>`;\n\n    new Dialog({\n        title: \"Select targets for Chain Lightning to jump to\",\n        content: the_content,\n        buttons: {\n            one: {\n                label: \"Damage\", callback: async (html) => {\n\n                    $(\".chainLightningToken\").off(\"mouseenter\").off(\"mouseleave\");\n                    let targets = html.find('input.target').filter((index, elem) => {\n                        return $(elem).is(\":checked\")\n                    });\n                    let damageRoll = new Roll(`${args[0].damageTotal}`).roll();\n\n                    let targetTokens = new Set();\n                    let saves = new Set();\n\n                    let newChatmessageContent = false;\n                    if(configSettings.mergeCard) newChatmessageContent = $(chatMessageContent);\n\n                    let chains = 0;\n                    for(let target of targets){\n                        chains++;\n                        if(chains > targetsToJumpTo) break;\n\n                        let enemyToken = canvas.tokens.get(target.name)\n\n                        let save = new Roll(\"1d20+@mod\",{mod: enemyToken?.actor?.data?.data?.abilities?.dex?.save ?? 0}).roll();\n\n                        if(!configSettings.mergeCard) save.toMessage({flavor: \"Dexterity Saving Throw\"});\n\n                        targetTokens.add(enemyToken)\n                        if(save.total >= spellSaveDC){\n                            saves.add(enemyToken)\n                        }\n\n                        if(configSettings.mergeCard){\n                            newChatmessageContent.find(\".midi-qol-nobox.midi-qol-saves-display\").append(\n                                $(addTokenToText(enemyToken, save.total, spellSaveDC))\n                            );\n                        }\n\n                    }\n\n                    if(configSettings.mergeCard) {\n                        await chatMessage.update({content: newChatmessageContent.prop('outerHTML')});\n                        await ui.chat.scrollBottom();\n                    }\n\n                    MidiQOL.applyTokenDamage(\n                        [{ damage: args[0].damageTotal, type: \"lightning\" }],\n                        damageRoll.total,\n                        targetTokens,\n                        itemD,\n                        saves\n                    )\n\n                    let sequence = new Sequence()\n                        .effect()\n                        .file(\"jb2a.chain_lightning.primary.blue\")\n                        .atLocation(tokenD) // Going from origin\n                        .reachTowards(targetToken) // To the current loop's target                                            \n                        .waitUntilFinished(-1100)// The next sequence will start 1.1 seconds before the end of the primary Lightning\n\n                       // .effect()\n                       // .file(\"jb2a.static_electricity.02.blue\")\n                       // .atLocation(tokenD)\n                       // .wait(100)\n\n                    for(let target of targetTokens){\n                        sequence\n                            .effect()\n                            .file(\"jb2a.chain_lightning.secondary.blue\")\n                            .atLocation(targetToken) // Going from origin\n                            .reachTowards(target) // To the current loop's target                                                     \n                            .wait(100)// Slight delay between each arc\n                    }\n\n                    sequence.play()\n\n                }\n            }\n        }\n    }).render(true);\n\n    await wait(100);\n\n    $(\".chainLightningToken\").on(\"mouseenter\", function(e){\n        let token = canvas.tokens.get($(this).attr('id'));\n        token._onHoverIn(e);\n    }).on(\"mouseleave\", function(e){\n        let token = canvas.tokens.get($(this).attr('id'));\n        token._onHoverOut(e);\n    });\n\n}\n\nmain()","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.sb2mEl3FIPiwfoQs"}},"_id":"OPmTe5RQUPaeUlbs"}
{"name":"Falling Rocks","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/Generic/Traps/Falling_Rocks/FallingRocks01Side_01_Regular_Grey_05x05ft_Endframe.webp","scope":"global","command":"let tokenD = canvas.tokens.controlled;\ntokenD.forEach(t =>\n    new Sequence()\n\n        .effect()\n        .file(\"jb2a.falling_rocks.top.05x05ft.grey\")\n        .scale(0.5)\n        .atLocation(t)\n        .fadeOut(250, {ease: \"easeInSine\"})\n        .randomizeMirrorX()\n        .randomizeMirrorY()\n\n.play()\n);","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.drbQMVC8Ny3qmNKS"}},"_id":"abMdDlrrV40qs24d"}
{"name":"Sequencer Database Search","type":"script","author":"yGU1Czx7TqFhg8CG","img":"icons/tools/scribal/magnifying-glass.webp","scope":"global","command":"//This macro needs the Sequencer module installed as well as the JB2A Patreon module containing the sequencer database.\n//You can search for an asset, a colour and click on the relevant result to copy the shorthand \"path\" to your clipboard.\nnew SequencerDatabaseViewer().render(true);","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.OmOQEX8TwlMuka88"}},"_id":"jGCRobdGfSTEP5Af"}
{"name":"Weapon Throw with Return","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/Dagger01_01_Regular_White_Return_Thumb.webp","scope":"global","command":"//This macro is intended for WEAPON THROW only\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n//THIS MACRO IS INTENDED FOR WEAPON THROW AND RETURN. Currently only for Dagger01 and the Hammer01.\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//All you have to do, is to change the VERSION you want to use.\n//Versions available for the Thrown and Return animation are : dagger | hammer\n//Read instructions below. \n\n//To preview the Dagger01 or Hammer01 assets you can use our AssetViewer : https://www.jb2a.com/Library_Preview/\n\nlet target = Array.from(game.user.targets)[0];\n\nnew Sequence()\n    .effect()\n//First it will play the throw sequence of the Dagger01 animation. \n//Change it to jb2a.hammer.throw.01 to play the Hammer01 animation.\n        .file(\"jb2a.dagger.throw.01\")\n        .atLocation(canvas.tokens.controlled[0])\n        .reachTowards(target)\n        .JB2A()\n        //OPTIONAL\n        //You can adjust the value below to play the return part before or after the throwing animation ends.\n        //The current value should make the transition seamless or barely noticeable.\n        //A negative value will play the return part before the throwing animation ends. And a positive value will add a pause between the throw and the return animation. \n        .waitUntilFinished(-700) //In milliseconds  \n    .effect()\n//Then it will transition to the return animation of the Dagger01. \n//Change it to jb2a.hammer.return.01 to play the return version of the Hammer01 animation.  \n        .file(\"jb2a.dagger.return.01\")\n        .atLocation(canvas.tokens.controlled[0])\n        .reachTowards(target)\n        .JB2A()\n\n.play()","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"core":{"sourceId":"Macro.kSfIaywHwfY3sKXI"}},"_id":"qGW1gDiMPp7QBJMy"}
{"name":"Bless","type":"script","author":"1BF7avqHNLrnJRYO","img":"modules/jb2a_patreon/Library/1st_Level/Bless/Bless_01_Regular_Yellow_Thumb.webp","scope":"global","command":"//THIS MACRO IS INTENDED FOR the spell BLESS.\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//Bless has an intro for when the spell is cast and a looped version to make it last a bit longer (or to be used in Custom Token Animations for a marker)\n\n//There are currently four colors for each version : Blue|Green|Purple|Yellow\n\n//Let's first define which tokens are targeted\nlet targets = Array.from(game.user.targets);\n//For each target of the targets array, we'll play a sequence\ntargets.forEach(target => {       \n    new Sequence()\n    .effect()\n    //Here's how we call on to an asset using our database.\n    //Without the database, it would look something like this : \n    //.file(\"modules/jb2a_patreon/Library/1st_Level/Bless/Bless_01_Regular_Yellow_Intro_400x400.webm\")\n    \n        .file(\"jb2a.bless.200px.yellow.intro\")\n        //Where do we want the animation to be played ? on the target we defined in the forEach loop.\n        .atLocation(target)\n        //We want the next asset, which will be the looped version, to start slightly before the end of the intro to make the transition smoother\n        .waitUntilFinished(-500) \n    //Now, let's call the looped version. Same principle as for the intro       \n    .effect()\n        .file(\"jb2a.bless.200px.yellow.loop\")\n        .atLocation(target)        \n        .waitUntilFinished()        \n    //I seperated this last looped version to be able to add a Fadeout at the end of 1000ms or 1 second before the end of the animation.\n    .effect()\n        .file(\"jb2a.bless.200px.yellow.loop\")\n        .atLocation(target) \n        .fadeOut(1000)\n    .play()\n    \n});","folder":null,"sort":0,"permission":{"default":0,"1BF7avqHNLrnJRYO":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.40JOS43fUORukZmw"}},"_id":"tk1MBVCPBMWHh36k"}
{"name":"Arrows - Bolts","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/Generic/Weapon_Attacks/Ranged/Arrow02_01_Regular_White_Physical_Thumb.webp","scope":"global","command":"//THIS MACRO IS INTENDED FOR ARROWS AND BOLTS ONLY.\n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//This is a list of all arrows and bolts available for this macros.\n//First choose between the type of projectile : arrow | bolt\n//Then choose the damage type between these : cold | fire | lightning | physical | poison\n//Finally the color of the effect : Blue | Green | Orange\n\n//Exceptions :\n//WHITE COLOR is only available for PHYSICAL damage type for both ARROW and BOLT. And there are two models for arrows only.\n//jb2a.arrow.physical.white.01 | jb2a.arrow.physical.white.02 | jb2a.bolt.physical.white\n\n//POISON damage, GREEN COLOR have 2 different models of ARROWS.\n//jb2a.arrow.poison.green.01 | jb2a.arrow.poison.green.02\n\nlet target = Array.from(game.user.targets)[0];\n\nlet sequence = new Sequence()\n\n    .effect()\n//It will play the animation of the arrow or bolt and choose the right file corresponding to the distance between the caster and the target. \n//For example, to follow the list above, change it to jb2a.arrow.lightning.green to play a green arrow attack with lightning damage type.\n//Another example, jb2a.bolt.cold.blue to play a blue bolt with cold damage type.\n        .file(\"jb2a.arrow.physical.white.02\") //Replace the text between quotation marks.\n        .atLocation(canvas.tokens.controlled[0])\n        .reachTowards(target)\n        .JB2A()\n       \n    .play();","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"core":{"sourceId":"Macro.SCLqktdZTaBKsVFY"}},"_id":"usCFCe2hMSnQwIYO"}
{"name":"Shield Sequence","type":"script","author":"yGU1Czx7TqFhg8CG","img":"modules/jb2a_patreon/Library/1st_Level/Shield/Shield_01_Regular_Blue_Thumb.webp","scope":"global","command":"//THIS MACRO IS INTENDED FOR SHIELD. \n\n//TO USE THIS MACRO, you'll need Wasp's module called \"Sequencer\"\n//You can find its documentation here on Github : https://github.com/fantasycalendar/FoundryVTT-Sequencer\n//There is also a wiki with a lot more info if you want to dive into it : https://github.com/fantasycalendar/FoundryVTT-Sequencer/wiki\n\n//All you have to do, is to change the VERSION you want to use.\n//Versions available for the Shield animation are : 01 | 02 | 03  \n\n//Change the COLOR in each .file() of the macro.\n//Colors available for the Shield animation are : blue | green | purple | red | yellow\n\n//To preview the available shield assets you can use our AssetViewer : https://www.jb2a.com/Library_Preview/\n\n//For example if you want the second version of a yellow Shield, edit the lines commented below from \"jb2a_patreon.shield.01.blue\" to \"jb2a_patreon.shield.02.yellow\"\n\nlet tokenD = canvas.tokens.controlled[0];\n\nnew Sequence()\n//Will play the intro sequence of the Shield animation.\n    .effect()\n        .file(\"jb2a.shield.01.blue.intro\") //Edit this line to customize the intro animation as follow jb2a.shield.version_number.color.intro\n        .scale(0.5)\n        .atLocation(tokenD)\n        .waitUntilFinished(-500)\n//Then it will transition to the loop sequence of the Shield animation.        \n    .effect()\n        .file(\"jb2a.shield.01.blue.loop\") //Edit this line to customize the loop animation as follow jb2a.shield.version_number.color.loop\n        .scale(0.5)\n        .atLocation(tokenD)\n        .fadeIn(300)\n        .fadeOut(300)\n        .waitUntilFinished(-500)\n//Finally it will play the outro sequence of the Shield animation as follow jb2a.shield.version_number.color.loop. \n//You can also change '_explode' to '_fade' to have a different ending.\n    .effect()\n        .file(\"jb2a.shield.01.blue.outro_explode\") //Edit this line to customize the outro animation.\n        .scale(0.5)\n        .atLocation(tokenD)\n            \n    .play()","folder":null,"sort":0,"permission":{"default":0,"yGU1Czx7TqFhg8CG":3},"flags":{"core":{"sourceId":"Macro.R7tnPORKQZaZVVAQ"}},"_id":"yRK6KWfRP1n99sDh"}
